<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku</title>
    <link rel="stylesheet" href="/sudoku/static/style.css?v=1700000000"> <!-- Added cache busting -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>

<body>
    <div id="theme-toggle" class="material-symbols-outlined" role="button" aria-label="Toggle dark mode">light_mode
    </div>
    <main id="main-content"> <!-- Changed to main -->
        <header id="top-right-controls"> <!-- Changed to header -->
            <h1>Sudoku</h1>
            <div id="game-controls">
                <button id="new-game" aria-label="Start a new game">New Game</button>
            </div>
            <div id="timer" aria-live="polite" aria-atomic="true">00:00</div>
        </header>
        <div id="game-area">
            <div id="loading-indicator" style="display: none;">
                <div class="spinner"></div>
            </div>
            <div id="sudoku-board" role="grid" aria-label="Sudoku Board"></div>
            <aside id="controls-sidebar"> <!-- Changed to aside -->
                <div id="number-palette" role="group" aria-label="Number and Action Palette">
                    <button class="palette-icon material-symbols-outlined palette-button" id="undo-button"
                        style="grid-area: undo;" aria-label="Undo last move">undo</button>
                    <button class="palette-icon material-symbols-outlined palette-button" id="hint-button"
                        style="grid-area: hint;" aria-label="Get a hint">transition_dissolve</button>
                    <div class="palette-number" role="button" aria-label="Enter number 1" style="grid-area: num1;">1
                    </div>
                    <div class="palette-number" role="button" aria-label="Enter number 2" style="grid-area: num2;">2
                    </div>
                    <div class="palette-number" role="button" aria-label="Enter number 3" style="grid-area: num3;">3
                    </div>
                    <button class="palette-icon material-symbols-outlined palette-button" id="pencil-icon"
                        style="grid-area: pencil;" aria-label="Toggle pencil mode">draw</button>

                    <button class="palette-icon material-symbols-outlined palette-button" id="redo-button"
                        style="grid-area: redo;" aria-label="Redo last move">redo</button>
                    <button class="palette-icon material-symbols-outlined palette-button" id="check-button"
                        style="grid-area: check;" aria-label="Check solution">check_circle</button>
                    <div class="palette-number" role="button" aria-label="Enter number 4" style="grid-area: num4;">4
                    </div>
                    <div class="palette-number" role="button" aria-label="Enter number 5" style="grid-area: num5;">5
                    </div>
                    <div class="palette-number" role="button" aria-label="Enter number 6" style="grid-area: num6;">6
                    </div>
                    <button class="palette-icon material-symbols-outlined palette-button" id="pen-icon"
                        style="grid-area: pen;" aria-label="Toggle pen mode">ink_pen</button>

                    <button class="palette-icon material-symbols-outlined palette-button" id="help"
                        style="grid-area: help;" aria-label="Show help and strategy">help</button>
                    <button class="palette-icon material-symbols-outlined palette-button" id="restart-button"
                        style="grid-area: restart;" aria-label="Restart current game">restart_alt</button>
                    <div class="palette-number" role="button" aria-label="Enter number 7" style="grid-area: num7;">7
                    </div>
                    <div class="palette-number" role="button" aria-label="Enter number 8" style="grid-area: num8;">8
                    </div>
                    <div class="palette-number" role="button" aria-label="Enter number 9" style="grid-area: num9;">9
                    </div>
                    <button class="palette-icon material-symbols-outlined palette-button" id="backspace-icon"
                        style="grid-area: backspace;" aria-label="Delete number">backspace</button>
                </div>
                <p id="status" aria-live="polite" aria-atomic="true"></p>
            </aside>
        </div>
    </main>

    <div id="help-modal" class="modal" style="display:none;" role="dialog" aria-modal="true"
        aria-labelledby="help-modal-title">
        <div class="modal-content">
            <span class="close-button" role="button" aria-label="Close help dialog">&times;</span>
            <h2 id="help-modal-title">Help & Strategy</h2>
            <h3>Keyboard Shortcuts:</h3>
            <div class="keyboard-shortcuts-grid">
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">N</span> <span
                            class="material-symbols-outlined">add_box</span></span> <span class="shortcut-desc">New
                        Game</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">R</span> <span
                            class="material-symbols-outlined">restart_alt</span></span> <span
                        class="shortcut-desc">Restart Game</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">P</span> <span
                            class="material-symbols-outlined">draw</span></span> <span class="shortcut-desc">Toggle
                        Pencil Mode</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">H</span> <span
                            class="material-symbols-outlined">transition_dissolve</span></span> <span
                        class="shortcut-desc">Get a Hint</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">C</span> <span
                            class="material-symbols-outlined">check_circle</span></span> <span
                        class="shortcut-desc">Check Solution</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">I</span> <span
                            class="material-symbols-outlined">help</span></span> <span class="shortcut-desc">Show Help
                        Screen</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">1-9</span> <span
                            class="material-symbols-outlined">pin</span></span> <span class="shortcut-desc">Enter
                        Number</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">Backspace</span>
                        <span class="material-symbols-outlined">backspace</span></span> <span
                        class="shortcut-desc">Delete Number</span></div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">Z</span> <span
                            class="material-symbols-outlined">undo</span></span> <span class="shortcut-desc">Undo</span>
                </div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span class="shortcut-key">Y</span> <span
                            class="material-symbols-outlined">redo</span></span> <span class="shortcut-desc">Redo</span>
                </div>
                <div class="shortcut-item"><span class="shortcut-key-icon"><span
                            class="material-symbols-outlined">ink_pen</span></span> <span class="shortcut-desc">Enter
                        numbers</span></div>
            </div>

            <h3>Sudoku Strategy:</h3>
            <div class="sudoku-strategy">
                <p>Sudoku is a logic-based, combinatorial number-placement puzzle. The objective is to fill a 9×9 grid
                    with digits so that each column, each row, and each of the nine 3×3 subgrids that compose the grid
                    (also called "boxes", "blocks", or "regions") contains all of the digits from 1 to 9.</p>
                <h4>Basic Techniques:</h4>
                <ul>
                    <li><b>Scanning:</b> Look for numbers that are already present in a row, column, or 3x3 block. This
                        helps eliminate possibilities for other cells.</li>
                    <li><b>Cross-hatching:</b> Use scanning across multiple rows/columns to find the only possible
                        position for a number in a block.</li>
                    <li><b>Counting:</b> Count which numbers are missing from a row, column, or block.</li>
                </ul>
                <h4>Intermediate Techniques:</h4>
                <ul>
                    <li><b>Hidden Singles:</b> A number is a hidden single in a row, column, or block if it can only go
                        in one cell within that row, column, or block, even if that cell has other candidates.</li>
                    <li><b>Naked Pairs/Triples:</b> If two (or three) cells in a row, column, or block contain the same
                        two (or three) candidates, then those candidates can be eliminated from other cells in that row,
                        column, or block.</li>
                </ul>
                <p>Practice is key! The more you play, the better you'll become at spotting patterns and applying
                    strategies.</p>
            </div>
        </div>
    </div>

    <div id="solved-modal" class="modal" style="display:none;" role="dialog" aria-modal="true"
        aria-labelledby="solved-modal-title">
        <div class="modal-content">
            <span class="close-button" role="button" aria-label="Close solved dialog">&times;</span>
            <h2 id="solved-modal-title">Congratulations!</h2>
            <p>You solved the puzzle!</p>
            <button id="new-game-solved" aria-label="Start a new game after solving">New Game</button>
        </div>
    </div>

    <div id="difficulty-modal" class="modal" style="display:none;" role="dialog" aria-modal="true"
        aria-labelledby="difficulty-modal-title">
        <div class="modal-content">
            <h2 id="difficulty-modal-title">Select Difficulty</h2>
            <button id="easy-difficulty-btn" aria-label="Select easy difficulty">Easy</button>
            <button id="medium-difficulty-btn" aria-label="Select medium difficulty">Medium</button>
            <button id="hard-difficulty-btn" aria-label="Select hard difficulty">Hard</button>
        </div>
    </div>

    <script src="/sudoku/static/script.js?v=1755453915"></script>
</body>

</html>